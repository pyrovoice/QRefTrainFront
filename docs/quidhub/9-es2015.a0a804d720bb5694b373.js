(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"Rc+H":function(t,e,n){"use strict";n.r(e);var i=n("mrSG"),s=n("fXoL"),r=n("ofXK"),o=n("tyNb"),a=n("3GK/");let c=class{constructor(t){this.adminService=t,this.questions=null}getQuestions(t,e){return Object(i.a)(this,void 0,void 0,(function*(){return null==this.questions&&(yield this.adminService.loadNonDepreciatedQuestions().then(t=>{this.questions=t})),this.questions.sort(()=>.5-Math.random()).slice(0,t)}))}};c.ctorParameters=()=>[{type:a.a}],c=Object(i.b)([Object(s.D)({providedIn:"root"})],c);var u=n("ajia");let l=class{constructor(t){this.apiService=t}getQuestions(t){return this.apiService.get("question/topics",t)}};l.ctorParameters=()=>[{type:u.a}],l=Object(i.b)([Object(s.D)({providedIn:"root"})],l);var d=n("jhN1"),b={prefix:"fas",iconName:"exclamation-triangle",icon:[576,512,[],"f071","M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"]};let h=class{constructor(t,e,n,i,s){this.quizService=t,this.localQuizService=e,this.route=n,this.sanitizer=i,this.api=s,this.dangerIcon=b,this.selectedOptions=[],this.currentQuestionNb=0}ngOnInit(){return Object(i.a)(this,void 0,void 0,(function*(){this.route.queryParamMap.subscribe(t=>this.selectedOptions=t.getAll("topic")),yield this.localQuizService.getQuestions(10).then(t=>{this.questions=t}),this.updateURL()}))}getQuestionsFromDTO(t){return null}get currentQuestion(){return this.questions[this.currentQuestionNb]}setCurrentQuestion(t){this.currentQuestionNb=t,this.updateURL()}updateURL(){this.currentVideoURL=this.getSourceURL(this.currentQuestion.URLVideo)}moveCurrentQuestion(t){this.currentQuestionNb+t>=0&&this.currentQuestionNb+t<this.questions.length&&this.setCurrentQuestion(this.currentQuestionNb+t)}isQuestionCurrentlySelected(t){return t==this.currentQuestionNb}getSourceURL(t){return null==t||""==t?this.sanitizer.bypassSecurityTrustResourceUrl(""):this.sanitizer.bypassSecurityTrustResourceUrl(t+"?autoplay=0")}};h.ctorParameters=()=>[{type:l},{type:c},{type:o.a},{type:d.b},{type:a.a}],h=Object(i.b)([Object(s.n)({selector:"app-quiz",template:Object(i.c)(n("v7n/")).default,styles:[Object(i.c)(n("cIFM")).default]})],h);const p=[{path:"",component:h}];let v=class{};v=Object(i.b)([Object(s.L)({imports:[o.c.forChild(p)],exports:[o.c]})],v);var f=n("3Pt+"),g=n("PCNd");n.d(e,"QuizModule",(function(){return m}));let m=class{};m=Object(i.b)([Object(s.L)({declarations:[h],imports:[r.b,v,f.d,g.a]})],m)},cIFM:function(t,e,n){"use strict";n.r(e),e.default=".navbar {\n  padding: 0;\n  min-height: 10%;\n}\n\n.button-flex {\n  flex: 1 0 45%;\n  height: 65px;\n}\n\n@media only screen and (max-width: 600px) {\n  .tallBox {\n    height: 110px;\n  }\n}\n\n.btn-light:not(:disabled):not(.disabled):active {\n  background-color: #f8f9fa;\n}\n\n.responsive-container {\n  position: relative;\n  overflow: hidden;\n  margin: auto;\n  padding-top: 350px;\n  width: 580px;\n}\n\n@media only screen and (max-width: 600px) {\n  .responsive-container {\n    padding-top: 250px;\n    width: 300px;\n    width: inherit;\n  }\n}\n\niframe {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  border: 0;\n}\n\ninput {\n  visibility: hidden;\n  width: 0;\n  height: 0;\n}\n\n.answerSelected {\n  background-color: #e2e6ea;\n}\n\n.flex-basis {\n  flex-basis: 20%;\n}\n\n.div-button {\n  cursor: pointer;\n}\n\n.div-button:hover {\n  background-color: #f8f9fa;\n}"},"v7n/":function(t,e,n){"use strict";n.r(e),e.default='<nav class="navbar d-flex flex-nowrap justify-content-between align-items-stretch border-bottom">\r\n  <div class="flex-grow-1 strong-font ml-1 mr-1 mt-auto mb-auto">{{currentQuestion.questionText}}</div>\r\n  <div title="Report question (coming later)" class="p-3 text-danger border-left"><fa-icon [icon]="dangerIcon" size="2x"></fa-icon></div>\r\n</nav>\r\n<div class="container mt-2">\r\n  <div class="responsive-container mb-2">\r\n    <iframe [src]="currentVideoURL" frameborder=\'0\' scrolling=\'no\' ></iframe>\r\n  </div>\r\n  <div class="d-flex flex-wrap justify-content-between">\r\n    <label *ngFor="let a of currentQuestion.answers" class="btn btn-light button-flex mr-1" [ngClass]="[a.isSelected ? \'answerSelected\' : \'\', a.text.length > 45 ? \'tallBox\' : \'\']">\r\n      <input type="checkbox" id="input" [value]="a.id" [(ngModel)]="a.isSelected"><span class="mt-auto mb-auto">{{a.text}}</span>\r\n    </label> \r\n  </div>\r\n</div>\r\n<nav class="navbar fixed-bottom d-flex justify-content-between align-items-stretch">\r\n  <div class="flex-grow-1 border flex-basis div-button" (click)="moveCurrentQuestion(-1)">Previous</div>\r\n  <div *ngFor="let q of questions; let i = index" class="flex-grow-1 border d-none d-lg-block div-button" [title]="q.questionText"\r\n    [ngClass]="isQuestionCurrentlySelected(i) ? \'bg-primary\' : \'\'" (click)="setCurrentQuestion(i)">{{i + 1}}</div>\r\n  <div class="flex-grow-1 border flex-basis div-button" (click)="moveCurrentQuestion(1)">Next</div>\r\n</nav>\r\n'}}]);